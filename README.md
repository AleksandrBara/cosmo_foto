# Космические фотографии

В репо представлены три скрипта с помощью которых вы можете скачивать лучшие фотографии запусков Илона Маска и
фотографии космоса от NASA.
А так же 2 скрипта телеграм ботов, которые умееют их публиковать.

### Как работает:

- Скрипты для скачивания фото автоматически создают папку
  ```space_images``` и будет складывать туда скаченные файлы.
- Если вы будете использовать только телеграмм ботов, создайте папку ```space_images```  в каталоге с программой и
  положите в нее картинки которые хотите публиковать.

#### fetch_spacex_images.py :

- Позволяет скачивать фотографии запусков SpaceX
  ([пример фото](https://live.staticflickr.com/65535/50291453997_aa715950e7_o.jpg))
  от вас требуется только ввести номер запуска(на момент написания скрипта их 105).

#### fetch_nasa_apod_images.py :

- Качает фотографии с сайта NASA ([пример фото](https://apod.nasa.gov/apod/astropix.html))
  от вас требуется только ввести количество фотографий, которое вы хотите скачать.
  Дополнительно вам понадобится создать TOKEN, перейдите по [ссылке](https://api.nasa.gov) и следуйте инструкциям.

#### fetch_nasa_epic_images.py

- Скачивает последние доступные фотографии нашей планеты собираемые с помощью
  инструмента DSCOVR Earth Polychromatic
  Imaging
  Camera, ( [пример фото](https://api.nasa.gov/EPIC/archive/natural/2019/05/30/png/epic_1b_20190530011359.png?api_key=DEMO_KEY))
  .

#### sending_one_foto_bot.py

- Умеет публиковать в Telegram одну фотографию.

#### sending_endlessly_foto_bot.py

- Публикует в Telegram все фото, с заданным интервалом, из папки ```space_images``` , а когда они закончатся,
  начинает публиковать фото в случайном режиме. Проверьте что папка ```space_images``` существует в каталоге с
  программой
  и в ней есть фотографии.

### Установка.

- Скачайте код
- Python3 должен быть уже установлен.
  Затем используйте `pip` (или `pip3`, если есть конфликт с Python2) для установки зависимостей:

```
pip install -r requirements.txt
```

- Часть настроек проекта берётся из переменных окружения.
  Чтобы их определить, создайте файл `.env` в корневом каталоге программы и запишите туда необходимые
  вам данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Вам понадобятся три переменные :

- `NASA_TOKEN` - секретный ключ ([ссылка](https://api.nasa.gov)).
- `TELEGRAM_TOKEN` - секретный ключ телеграм бота.
- `TELEGRAM_CHAT_ID` - chat_id вашего телеграм канала.

#### Инструкция telegram:

- Создайте телеграм бота с помощью [BotFather](https://telegram.me/BotFather), если сложно, просто напишите ему "help".
- Запомните токен вашего бота.
- Запустите бота командой /start.
- Добавьте бота в администраторы вашего телеграм канала.
- Запомните chat_id канала.

#### Запуск кода.

Для запуска скачивания фото используются следующие команды:

```
python3 fetch_spacex_images.py --launch_number=number
``` 

, где ` number` - это количество запусков.

```
python3 fetch_nasa_apod_images.py --count=foto_count
```

, где `foto_count` -это количество фотографий
которое вы хотите скачать.

```
python3 fetch_nasa_epic_images.py
```

После запуска любого из трех скриптов в папке `space_images` появятся новые фото.

Для публикации фото в телеграм канал с помощью бота используются следующие команды:

```
python3 sending_one_foto_bot.py --file_path=path
``` 

, где `path`  - это путь к файлу, который вы хотите
опубликовать в своем телеграм канале.

```
python3 sending_endlessly_foto_bot.py --time_out=time_in_seconds
```

, где `time_in_seconds`  - это промежуток времени
между публикациями фото из папки `space_images` в секундах (напомню, что в часе 3600 секунд).

После запуска скрипта в вашем телеграм канале появится фото.

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
